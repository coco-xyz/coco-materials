<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=1080, height=1920">
<title>AI Code Reviewer - COCO (中文版)</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    width: 1080px; height: 1920px; overflow: hidden;
    font-family: 'PingFang SC', 'Microsoft YaHei', -apple-system, Arial, sans-serif;
    color: #ffffff; background: #0a0a0a;
  }
  #canvas {
    width: 1080px; height: 1920px; position: relative; overflow: hidden;
    background: radial-gradient(ellipse at 50% 30%, #1a1a2e 0%, #0a0a0a 70%);
  }
  .grid-bg {
    position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    background-image:
      linear-gradient(rgba(255,215,0,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,215,0,0.03) 1px, transparent 1px);
    background-size: 60px 60px; opacity: 0;
  }
  .scene {
    position: absolute; top: 0; left: 0; width: 1080px; height: 1920px;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    opacity: 0; padding: 60px;
  }
  .particle {
    position: absolute; width: 4px; height: 4px; border-radius: 50%;
    background: rgba(255, 215, 0, 0.3); opacity: 0;
  }

  /* Scene 1: Problem */
  .scene1 .headline {
    font-size: 68px; font-weight: 900; text-align: center; line-height: 1.3;
    margin-bottom: 60px; opacity: 0;
  }
  .scene1 .headline .accent { color: #ff6b6b; }
  .pr-diff {
    width: 900px; background: #1e1e2e; border-radius: 20px; overflow: hidden;
    border: 1px solid #333; opacity: 0; transform: translateY(40px);
  }
  .pr-diff-header {
    background: #252540; padding: 20px 30px; display: flex; align-items: center; gap: 15px;
    border-bottom: 1px solid #333;
  }
  .pr-diff-header .dot { width: 14px; height: 14px; border-radius: 50%; }
  .pr-diff-header .dot.red { background: #ff5f56; }
  .pr-diff-header .dot.yellow { background: #ffbd2e; }
  .pr-diff-header .dot.green { background: #27c93f; }
  .pr-diff-header .filename { color: #888; font-family: monospace; font-size: 22px; margin-left: 15px; }
  .diff-lines { padding: 20px 0; }
  .diff-line {
    font-family: 'Courier New', monospace; font-size: 20px; padding: 6px 30px;
    line-height: 1.6; opacity: 0; white-space: nowrap;
  }
  .diff-line.add { background: rgba(39,201,63,0.15); color: #27c93f; }
  .diff-line.remove { background: rgba(255,95,86,0.15); color: #ff5f56; }
  .diff-line.context { color: #666; }
  .counter-box { margin-top: 60px; text-align: center; opacity: 0; }
  .counter-label { font-size: 32px; color: #888; margin-bottom: 20px; }
  .counter-value { font-size: 120px; font-weight: 900; color: #ff6b6b; font-variant-numeric: tabular-nums; }
  .counter-unit { font-size: 50px; color: #ff6b6b; font-weight: 700; }

  /* Scene 2: Pain */
  .scene2 .headline { font-size: 64px; font-weight: 800; text-align: center; line-height: 1.3; margin-bottom: 80px; opacity: 0; }
  .scene2 .headline .red { color: #ff6b6b; }
  .bug-code {
    width: 900px; background: #1e1e2e; border-radius: 20px; overflow: hidden;
    border: 1px solid #333; opacity: 0; transform: translateY(40px);
  }
  .bug-line {
    font-family: 'Courier New', monospace; font-size: 22px; padding: 8px 30px;
    line-height: 1.6; color: #ccc; position: relative;
  }
  .bug-line.error { background: rgba(255,95,86,0.1); }
  .bug-highlight {
    position: absolute; right: 30px; top: 50%; transform: translateY(-50%);
    background: #ff4444; color: #fff; font-size: 16px; padding: 4px 14px;
    border-radius: 12px; font-weight: 700; opacity: 0;
  }
  .pain-stat { margin-top: 80px; text-align: center; opacity: 0; }
  .pain-stat .number { font-size: 100px; font-weight: 900; color: #ff6b6b; }
  .pain-stat .label { font-size: 36px; color: #aaa; margin-top: 10px; }

  /* Scene 3: Solution */
  .scene3 .coco-badge {
    background: linear-gradient(135deg, #FFD700, #FFA500); color: #000;
    font-size: 28px; font-weight: 800; padding: 12px 40px; border-radius: 50px;
    letter-spacing: 3px; margin-bottom: 50px; opacity: 0; transform: scale(0.8);
  }
  .scene3 .headline {
    font-size: 76px; font-weight: 900; text-align: center; line-height: 1.2;
    margin-bottom: 60px; opacity: 0;
  }
  .scene3 .headline .gold { color: #FFD700; }
  .scan-container {
    width: 900px; background: #1e1e2e; border-radius: 20px; overflow: hidden;
    border: 1px solid rgba(255,215,0,0.3); opacity: 0; position: relative;
  }
  .scan-line {
    position: absolute; left: 0; right: 0; height: 3px;
    background: linear-gradient(90deg, transparent, #FFD700, transparent);
    box-shadow: 0 0 20px rgba(255,215,0,0.5); top: 0; opacity: 0;
  }
  .code-line {
    font-family: 'Courier New', monospace; font-size: 20px; padding: 8px 30px;
    line-height: 1.6; color: #666; transition: color 0.3s;
  }
  .code-line.scanned { color: #ccc; }
  .code-line.highlighted { color: #FFD700; background: rgba(255,215,0,0.05); }
  .scene3 .subtext {
    font-size: 38px; color: #aaa; text-align: center; margin-top: 60px;
    line-height: 1.5; opacity: 0;
  }
  .scene3 .subtext .em { color: #FFD700; font-weight: 700; }

  /* Scene 4: Workflow */
  .scene4 .headline { font-size: 60px; font-weight: 800; text-align: center; margin-bottom: 80px; color: #FFD700; opacity: 0; }
  .workflow { display: flex; flex-direction: column; gap: 30px; width: 800px; }
  .workflow-step { display: flex; align-items: center; gap: 30px; opacity: 0; transform: translateX(-60px); }
  .step-number {
    width: 70px; height: 70px; border-radius: 50%;
    background: linear-gradient(135deg, #FFD700, #FFA500);
    display: flex; align-items: center; justify-content: center;
    font-size: 32px; font-weight: 900; color: #000; flex-shrink: 0;
  }
  .step-content { flex: 1; background: #1a1a2e; border-radius: 16px; padding: 28px 36px; border: 1px solid #333; }
  .step-title { font-size: 34px; font-weight: 700; margin-bottom: 8px; }
  .step-desc { font-size: 24px; color: #888; }
  .step-check { font-size: 40px; opacity: 0; color: #27c93f; flex-shrink: 0; }
  .connector { width: 3px; height: 30px; background: rgba(255,215,0,0.3); margin-left: 34px; opacity: 0; }

  /* Scene 5: Results */
  .scene5 .headline { font-size: 60px; font-weight: 800; text-align: center; margin-bottom: 80px; opacity: 0; }
  .comparison { display: flex; gap: 40px; width: 900px; }
  .comp-side { flex: 1; border-radius: 24px; padding: 40px 30px; text-align: center; opacity: 0; transform: scale(0.9); }
  .comp-side.before {
    background: linear-gradient(180deg, rgba(255,95,86,0.15), rgba(255,95,86,0.05));
    border: 2px solid rgba(255,95,86,0.3);
  }
  .comp-side.after {
    background: linear-gradient(180deg, rgba(39,201,63,0.15), rgba(39,201,63,0.05));
    border: 2px solid rgba(39,201,63,0.3);
  }
  .comp-label { font-size: 30px; font-weight: 700; letter-spacing: 3px; margin-bottom: 30px; }
  .before .comp-label { color: #ff6b6b; }
  .after .comp-label { color: #27c93f; }
  .comp-time { font-size: 90px; font-weight: 900; margin-bottom: 15px; }
  .before .comp-time { color: #ff6b6b; }
  .after .comp-time { color: #27c93f; }
  .comp-unit { font-size: 40px; font-weight: 700; }
  .stat-detail { margin-top: 60px; opacity: 0; }
  .stat-row { display: flex; align-items: center; justify-content: center; gap: 20px; margin-bottom: 20px; font-size: 36px; font-weight: 700; }
  .stat-row .check { color: #27c93f; font-size: 40px; }
  .stat-row .text { color: #ccc; }
  .stat-row .perc { color: #FFD700; }

  /* Scene 6: CTA */
  .scene6 { background: radial-gradient(ellipse at 50% 50%, #1a1a2e 0%, #0a0a0a 70%); }
  .cta-glow {
    position: absolute; width: 500px; height: 500px; border-radius: 50%;
    background: radial-gradient(circle, rgba(255,215,0,0.1) 0%, transparent 70%);
    top: 50%; left: 50%; transform: translate(-50%, -50%); opacity: 0;
  }
  .coco-logo-cta {
    font-size: 120px; font-weight: 900; color: #FFD700; letter-spacing: 12px;
    text-shadow: 0 0 60px rgba(255,215,0,0.4); opacity: 0; transform: scale(0.8);
  }
  .cta-line { width: 200px; height: 3px; background: linear-gradient(90deg, transparent, #FFD700, transparent); margin-top: 40px; opacity: 0; }
  .cta-title { font-size: 52px; font-weight: 700; margin-top: 40px; color: #fff; opacity: 0; }
  .cta-url { font-size: 44px; font-weight: 600; margin-top: 50px; color: #FFD700; letter-spacing: 4px; opacity: 0; }
</style>
</head>
<body>
<div id="canvas">
  <div class="grid-bg" id="gridBg"></div>
  <div class="particle" id="p1" style="left:100px;top:200px;"></div>
  <div class="particle" id="p2" style="left:800px;top:400px;"></div>
  <div class="particle" id="p3" style="left:300px;top:1500px;"></div>
  <div class="particle" id="p4" style="left:900px;top:1000px;"></div>
  <div class="particle" id="p5" style="left:150px;top:800px;"></div>
  <div class="particle" id="p6" style="left:700px;top:1700px;"></div>
  <div class="particle" id="p7" style="left:500px;top:300px;"></div>
  <div class="particle" id="p8" style="left:950px;top:600px;"></div>

  <!-- Scene 1: 问题 (0-7s) -->
  <div class="scene scene1" id="scene1">
    <div class="headline" id="s1-headline">
      每个PR<br><span class="accent">数小时的Review</span>
    </div>
    <div class="pr-diff" id="s1-diff">
      <div class="pr-diff-header">
        <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
        <span class="filename">src/auth/handler.ts</span>
      </div>
      <div class="diff-lines" id="s1-difflines">
        <div class="diff-line context" id="dl1">  const user = await db.find(id);</div>
        <div class="diff-line remove" id="dl2">- if (user.role === 'admin') {</div>
        <div class="diff-line add" id="dl3">+ if (user?.role === 'admin') {</div>
        <div class="diff-line context" id="dl4">    return authorize(user);</div>
        <div class="diff-line add" id="dl5">+   logAccess(user, 'admin');</div>
        <div class="diff-line context" id="dl6">  }</div>
        <div class="diff-line remove" id="dl7">- return res.send(403);</div>
        <div class="diff-line add" id="dl8">+ return res.status(403).json({</div>
        <div class="diff-line add" id="dl9">+   error: 'Unauthorized'</div>
        <div class="diff-line add" id="dl10">+ });</div>
      </div>
    </div>
    <div class="counter-box" id="s1-counter">
      <div class="counter-label">平均Review时间</div>
      <div><span class="counter-value" id="s1-counterVal">0</span><span class="counter-unit"> 小时</span></div>
    </div>
  </div>

  <!-- Scene 2: 痛点 (7-14s) -->
  <div class="scene scene2" id="scene2">
    <div class="headline" id="s2-headline">
      Bug<span class="red">悄悄溜过</span><br>规范<span class="red">逐渐失守</span>
    </div>
    <div class="bug-code" id="s2-code">
      <div class="pr-diff-header">
        <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
        <span class="filename">src/api/payments.ts</span>
      </div>
      <div style="padding: 20px 0;">
        <div class="bug-line">  async processPayment(amount) {</div>
        <div class="bug-line error" id="bugline1">    const total = amount * tax;
          <span class="bug-highlight" id="bug1">BUG: 未定义</span>
        </div>
        <div class="bug-line">    await charge(user.card, total);</div>
        <div class="bug-line error" id="bugline2">    if (total = 0) return;
          <span class="bug-highlight" id="bug2">BUG: 赋值</span>
        </div>
        <div class="bug-line">    sendReceipt(user.email);</div>
        <div class="bug-line error" id="bugline3">    // TODO: add error handling
          <span class="bug-highlight" id="bug3">遗漏</span>
        </div>
        <div class="bug-line">  }</div>
      </div>
    </div>
    <div class="pain-stat" id="s2-stat">
      <div class="number" id="s2-statNum">0%</div>
      <div class="label">的Bug在合并后才发现</div>
    </div>
  </div>

  <!-- Scene 3: 解决方案 (14-22s) -->
  <div class="scene scene3" id="scene3">
    <div class="coco-badge" id="s3-badge">COCO</div>
    <div class="headline" id="s3-headline">
      你的<span class="gold">AI</span><br>代码审查员
    </div>
    <div class="scan-container" id="s3-scan">
      <div class="scan-line" id="s3-scanline"></div>
      <div style="padding: 20px 0;">
        <div class="code-line" id="cl1">  function validateInput(data) {</div>
        <div class="code-line" id="cl2">    if (!data.email) throw Error;</div>
        <div class="code-line" id="cl3">    const sanitized = escape(data);</div>
        <div class="code-line" id="cl4">    return schema.validate(sanitized);</div>
        <div class="code-line" id="cl5">  }</div>
        <div class="code-line" id="cl6"></div>
        <div class="code-line" id="cl7">  async function processRequest(req) {</div>
        <div class="code-line" id="cl8">    const auth = verifyToken(req);</div>
        <div class="code-line" id="cl9">    const result = await handler(auth);</div>
        <div class="code-line" id="cl10">    return respond(200, result);</div>
        <div class="code-line" id="cl11">  }</div>
      </div>
    </div>
    <div class="subtext" id="s3-subtext">
      审查<span class="em">每一行</span>代码<br>检查<span class="em">每一个</span>模式
    </div>
  </div>

  <!-- Scene 4: 工作流程 (22-32s) -->
  <div class="scene scene4" id="scene4">
    <div class="headline" id="s4-headline">工作流程</div>
    <div class="workflow" id="s4-workflow">
      <div class="workflow-step" id="ws1">
        <div class="step-number">1</div>
        <div class="step-content">
          <div class="step-title">PR提交</div>
          <div class="step-desc">新代码推送到分支</div>
        </div>
        <div class="step-check" id="wc1"></div>
      </div>
      <div class="connector" id="conn1"></div>
      <div class="workflow-step" id="ws2">
        <div class="step-number">2</div>
        <div class="step-content">
          <div class="step-title">AI审查代码</div>
          <div class="step-desc">秒级深度分析</div>
        </div>
        <div class="step-check" id="wc2"></div>
      </div>
      <div class="connector" id="conn2"></div>
      <div class="workflow-step" id="ws3">
        <div class="step-number">3</div>
        <div class="step-content">
          <div class="step-title">质量检查通过</div>
          <div class="step-desc">自动执行编码规范</div>
        </div>
        <div class="step-check" id="wc3"></div>
      </div>
      <div class="connector" id="conn3"></div>
      <div class="workflow-step" id="ws4">
        <div class="step-number">4</div>
        <div class="step-content">
          <div class="step-title">建议已就绪</div>
          <div class="step-desc">可执行的反馈即时送达</div>
        </div>
        <div class="step-check" id="wc4"></div>
      </div>
    </div>
  </div>

  <!-- Scene 5: 成果 (32-40s) -->
  <div class="scene scene5" id="scene5">
    <div class="headline" id="s5-headline">效果对比</div>
    <div class="comparison" id="s5-comp">
      <div class="comp-side before" id="s5-before">
        <div class="comp-label">之前</div>
        <div class="comp-time">4</div>
        <div class="comp-unit">小时</div>
      </div>
      <div class="comp-side after" id="s5-after">
        <div class="comp-label">之后</div>
        <div class="comp-time">15</div>
        <div class="comp-unit">分钟</div>
      </div>
    </div>
    <div class="stat-detail" id="s5-details">
      <div class="stat-row">
        <span class="check" id="sd1"></span>
        <span class="perc">93.75%</span>
        <span class="text">更快的审查速度</span>
      </div>
      <div class="stat-row">
        <span class="check" id="sd2"></span>
        <span class="text">零Bug遗漏</span>
      </div>
      <div class="stat-row">
        <span class="check" id="sd3"></span>
        <span class="text">一致的编码规范</span>
      </div>
    </div>
  </div>

  <!-- Scene 6: CTA (40-45s) -->
  <div class="scene scene6" id="scene6">
    <div class="cta-glow" id="s6-glow"></div>
    <div class="coco-logo-cta" id="s6-logo">COCO</div>
    <div class="cta-line" id="s6-line"></div>
    <div class="cta-title" id="s6-title">AI 代码审查员</div>
    <div class="cta-url" id="s6-url">coco.xyz</div>
  </div>
</div>

<script>
function easeOut(t) { return 1 - Math.pow(1 - t, 3); }
function easeOutBack(t) { const c1=1.70158; const c3=c1+1; return 1+c3*Math.pow(t-1,3)+c1*Math.pow(t-1,2); }
function lerp(s, e, t) { return s + (e - s) * Math.max(0, Math.min(1, t)); }
function progress(timeMs, startMs, endMs) {
  if (timeMs < startMs) return 0; if (timeMs > endMs) return 1;
  return (timeMs - startMs) / (endMs - startMs);
}

window.renderFrame = function(t) {
  document.getElementById('gridBg').style.opacity = 0.5 + 0.2 * Math.sin(t / 2000);
  for (let i = 1; i <= 8; i++) {
    const p = document.getElementById('p' + i);
    const phase = i * 0.8;
    p.style.opacity = 0.2 + 0.2 * Math.sin((t / 2000) + phase);
    p.style.transform = `translate(${Math.cos((t/4000)+phase)*15}px, ${Math.sin((t/3000)+phase)*30}px)`;
  }
  const fadeDur = 600;

  // Scene 1: 0-7s
  const s1 = document.getElementById('scene1');
  if (t < 7000) {
    s1.style.opacity = easeOut(progress(t, 0, fadeDur)) * (t > 6400 ? 1 - easeOut(progress(t, 6400, 7000)) : 1);
    const h1 = document.getElementById('s1-headline');
    h1.style.opacity = easeOut(progress(t, 200, 1200));
    h1.style.transform = `translateY(${lerp(30, 0, easeOut(progress(t, 200, 1200)))}px)`;
    const diff = document.getElementById('s1-diff');
    diff.style.opacity = easeOut(progress(t, 1500, 2500));
    diff.style.transform = `translateY(${lerp(40, 0, easeOut(progress(t, 1500, 2500)))}px)`;
    for (let i = 1; i <= 10; i++) {
      const dl = document.getElementById('dl' + i);
      const ls = 2000 + i * 200;
      dl.style.opacity = easeOut(progress(t, ls, ls + 400));
    }
    document.getElementById('s1-counter').style.opacity = easeOut(progress(t, 4500, 5200));
    document.getElementById('s1-counterVal').textContent = Math.round(lerp(0, 4, easeOut(progress(t, 4500, 6000))));
  } else { s1.style.opacity = 0; }

  // Scene 2: 7-14s
  const s2 = document.getElementById('scene2');
  if (t >= 6400 && t < 14000) {
    s2.style.opacity = easeOut(progress(t, 7000, 7600)) * (t > 13400 ? 1 - easeOut(progress(t, 13400, 14000)) : 1);
    const h2 = document.getElementById('s2-headline');
    h2.style.opacity = easeOut(progress(t, 7200, 8200));
    h2.style.transform = `translateY(${lerp(30, 0, easeOut(progress(t, 7200, 8200)))}px)`;
    const bugCode = document.getElementById('s2-code');
    bugCode.style.opacity = easeOut(progress(t, 8500, 9500));
    bugCode.style.transform = `translateY(${lerp(40, 0, easeOut(progress(t, 8500, 9500)))}px)`;
    document.getElementById('bug1').style.opacity = easeOut(progress(t, 10000, 10400));
    document.getElementById('bug2').style.opacity = easeOut(progress(t, 10600, 11000));
    document.getElementById('bug3').style.opacity = easeOut(progress(t, 11200, 11600));
    document.getElementById('s2-stat').style.opacity = easeOut(progress(t, 11800, 12500));
    document.getElementById('s2-statNum').textContent = Math.round(lerp(0, 68, easeOut(progress(t, 11800, 13000)))) + '%';
  } else { s2.style.opacity = 0; }

  // Scene 3: 14-22s
  const s3 = document.getElementById('scene3');
  if (t >= 13400 && t < 22000) {
    s3.style.opacity = easeOut(progress(t, 14000, 14600)) * (t > 21400 ? 1 - easeOut(progress(t, 21400, 22000)) : 1);
    const badge = document.getElementById('s3-badge');
    badge.style.opacity = easeOut(progress(t, 14200, 14800));
    badge.style.transform = `scale(${lerp(0.8, 1, easeOutBack(progress(t, 14200, 15000)))})`;
    const h3 = document.getElementById('s3-headline');
    h3.style.opacity = easeOut(progress(t, 15000, 16000));
    h3.style.transform = `translateY(${lerp(30, 0, easeOut(progress(t, 15000, 16000)))}px)`;
    document.getElementById('s3-scan').style.opacity = easeOut(progress(t, 16200, 17000));
    const scanLine = document.getElementById('s3-scanline');
    if (t >= 17000 && t < 20500) {
      scanLine.style.opacity = 1;
      scanLine.style.top = (progress(t, 17000, 20500) * (11 * 40 + 40)) + 'px';
    } else { scanLine.style.opacity = 0; }
    for (let i = 1; i <= 11; i++) {
      const cl = document.getElementById('cl' + i);
      const lineY = (i - 1) / 11;
      const scanP = progress(t, 17000, 20500);
      cl.className = scanP > lineY + 0.05 ? 'code-line scanned' : (scanP > lineY - 0.05 ? 'code-line highlighted' : 'code-line');
    }
    document.getElementById('s3-subtext').style.opacity = easeOut(progress(t, 20000, 21000));
  } else { s3.style.opacity = 0; }

  // Scene 4: 22-32s
  const s4 = document.getElementById('scene4');
  if (t >= 21400 && t < 32000) {
    s4.style.opacity = easeOut(progress(t, 22000, 22600)) * (t > 31400 ? 1 - easeOut(progress(t, 31400, 32000)) : 1);
    document.getElementById('s4-headline').style.opacity = easeOut(progress(t, 22200, 23000));
    [{id:'ws1',cid:'wc1',conn:'conn1',s:23500},{id:'ws2',cid:'wc2',conn:'conn2',s:25000},{id:'ws3',cid:'wc3',conn:'conn3',s:26500},{id:'ws4',cid:'wc4',conn:null,s:28000}].forEach(step => {
      const el = document.getElementById(step.id);
      const sp = easeOut(progress(t, step.s, step.s + 800));
      el.style.opacity = sp;
      el.style.transform = `translateX(${lerp(-60, 0, sp)}px)`;
      const c = document.getElementById(step.cid);
      const cp = progress(t, step.s + 1000, step.s + 1200);
      if (cp > 0) { c.textContent = '\u2713'; c.style.opacity = easeOut(cp); } else { c.style.opacity = 0; }
      if (step.conn) document.getElementById(step.conn).style.opacity = easeOut(progress(t, step.s + 800, step.s + 1200));
    });
  } else { s4.style.opacity = 0; }

  // Scene 5: 32-40s
  const s5 = document.getElementById('scene5');
  if (t >= 31400 && t < 40000) {
    s5.style.opacity = easeOut(progress(t, 32000, 32600)) * (t > 39400 ? 1 - easeOut(progress(t, 39400, 40000)) : 1);
    document.getElementById('s5-headline').style.opacity = easeOut(progress(t, 32200, 33000));
    const before = document.getElementById('s5-before');
    before.style.opacity = easeOut(progress(t, 33200, 33800));
    before.style.transform = `scale(${lerp(0.9, 1, easeOutBack(progress(t, 33200, 34200)))})`;
    const after = document.getElementById('s5-after');
    after.style.opacity = easeOut(progress(t, 34000, 34600));
    after.style.transform = `scale(${lerp(0.9, 1, easeOutBack(progress(t, 34000, 35000)))})`;
    document.getElementById('s5-details').style.opacity = easeOut(progress(t, 36800, 37500));
    ['sd1','sd2','sd3'].forEach((id, idx) => {
      if (progress(t, 37000 + idx * 500, 37200 + idx * 500) > 0) document.getElementById(id).textContent = '\u2713';
    });
  } else { s5.style.opacity = 0; }

  // Scene 6: 40-45s
  const s6 = document.getElementById('scene6');
  if (t >= 39400) {
    s6.style.opacity = easeOut(progress(t, 40000, 40600));
    document.getElementById('s6-glow').style.opacity = 0.5 + 0.3 * Math.sin((t - 40000) / 800);
    const logo = document.getElementById('s6-logo');
    const lp = easeOutBack(progress(t, 40200, 41200));
    logo.style.opacity = easeOut(progress(t, 40200, 40800));
    logo.style.transform = t > 41200 ? `scale(${1 + 0.02 * Math.sin((t-41200)/500)})` : `scale(${lerp(0.8, 1, lp)})`;
    document.getElementById('s6-line').style.opacity = easeOut(progress(t, 41000, 41500));
    document.getElementById('s6-title').style.opacity = easeOut(progress(t, 41500, 42200));
    document.getElementById('s6-url').style.opacity = easeOut(progress(t, 42500, 43200));
  } else { s6.style.opacity = 0; }
};
window.renderFrame(0);
</script>
</body>
</html>
